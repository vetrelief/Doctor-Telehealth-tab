<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="https://www.w3.org/1999/xhtml"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width">
<title>VetRelief - Admin</title>

<link href="https://vetrelief.com/tmpl/css/Master.css" rel="stylesheet" type="text/css">

<link rel="stylesheet" type="text/css" href="https://vetrelief.com/tmpl/css/slick.css">
<link rel="stylesheet" type="text/css" href="https://vetrelief.com/tmpl/css/slick-theme.css">
<script src="bona%20fides%20saved_files/SpryMenuBar.js" type="text/javascript"></script>
<script src="bona%20fides%20saved_files/responsive-menu.js" type="text/javascript"></script>
</head>

<body class="GenLayout">
		<div id="container">
  
    
  <!-- <div id="header">
     <table width="100%" cellspacing="0" cellpadding="0" border="0">
      <tbody><tr align="left">
        <td>
        	<img src="bona%20fides%20saved_files/VR%20Header2.gif" width="345" height="137">
        
        </td>
        <td width="64%"><img src="bona%20fides%20saved_files/Quotes.05.png" alt="" name="rotate" id="rotate" style="background-color: #000000" width="648" height="137" align="right"></td>
      </tr>
    </tbody></table>
   </div> -->
   <div class="new-top-header">

   </div>
   <!-- end #header -->


<div id="main_content_Admin">
<p id="error" class="errorText"> </p>
	

<!--<h1><b>Vet Telehealth</b></h1>-->
  <table width="100%" border="0">
			<tbody><!--<tr><td colspan="7" align="left"><h3>Set Your Schedule</h3></td></tr>-->
			<tr height="25" bgcolor="#666666" align="center"><td><a href="https://vetrelief.com//admin/?page=users&amp;sub=detail&amp;login=zanetti-relief&amp;info_page=login" style="color: #FFFFFF" target="_blank">Account Information</a></td>
<td><a href="https://vetrelief.com//admin/?page=users&amp;sub=detail&amp;login=zanetti-relief&amp;info_page=doc/prefs" style="color: #FFFFFF" target="_blank">Preferences</a></td>
<td><a href="https://vetrelief.com//admin/?page=users&amp;sub=detail&amp;login=zanetti-relief&amp;info_page=doc/info_avail" style="color: #FFFFFF" target="_blank">Personal Info &amp; Availability</a></td>
<td><b>Telehealth</b></td>
<td><a href="https://vetrelief.com//admin/?page=users&amp;sub=detail&amp;login=zanetti-relief&amp;info_page=doc/regulatory" style="color: #FFFFFF" target="_blank">Regulatory Information</a></td>
<td><a href="https://vetrelief.com//admin/?page=users&amp;sub=detail&amp;login=zanetti-relief&amp;info_page=doc/comment_eval" style="color: #FFFFFF" target="_blank">Comments &amp; Self Eval</a></td>
<td><a href="https://vetrelief.com//admin/?page=users&amp;sub=detail&amp;login=zanetti-relief&amp;info_page=doc/admin_prefs" style="color: #FFFFFF" target="_blank">Admin Preferences</a></td>
</tr>
</tbody></table>
<style type="text/css">
	.GenLayout #main_content_Admin{
		width: 100% !important;
		margin: 0 !important;
		padding: 10px !important;
	}
	.GenLayout #main_content_Admin table{
width: 100% !important;
	}
	.new-top-header{
		height: 6rem;
		background-image: url('doggy_heaven_full.jpeg');
		background-position: center;
		background-size: cover;
		display: block;
	}
	.new-map-section{
		height: 100%;
		width: 100%;
		position: relative;
	}
	.map-link{
		position: absolute;
		height: 100%;
		width: 100%;
		left: 0;
		top: 0;
	}
	.web-map{
		height: 100%;
		width: 100%;
	}
	@media screen and (max-width:767px) {
		
		.new-top-header{
			max-width: 100%;
			height: 4rem;
		}
		.lookingdivs, #lookingdata{
			width: 100% !important;
		}
	}

	img.doctoravatar, img.reviewavatar
								{width: 75px; height: 75px; border-radius: 50%; background: #cccccc}
	img.reviewavatar	{width: 25px; height: 25px}
	#availabletable		{table-layout: fixed}
	#availabletable th,
	#availabletable td	{text-align: center; position: relative}
	#availabletable td	{height: 62px}
	#availablebody input:not(.activedatecell)
								{width: 23px}
	#availablebody select
								{width: 42px}
	#availablebody input[type=number]::-webkit-inner-spin-button,
	#availablebody input[type=number]::-webkit-outer-spin-button
								{-webkit-appearance: none; margin: 0}
	#availablebody input[type=number]
								{-moz-appearance: textfield}
	/*#availablebody td:not(.visible):not(.darkcell):not(.lightcell)
								{cursor: pointer}*/
	#availablebody td:not(.filled) input.activedatecell:not(:checked) ~ input,
	#availablebody td:not(.filled) input.activedatecell:not(:checked) ~ select,
	#availablebody td:not(.filled) input.activedatecell:not(:checked) ~ span
								{display:none}
	#availablebody input.activedatecell
								{position: absolute; top: -3px; left: -4px;}
	#availabletable .darkcell
								{background: #888888; font-size: 1.25em}
	#availabletable .lightcell
								{background: #cccccc}
	#availabletable .filled
								{background: lightgreen}

	/*#telehealthtable td	{vertical-align: bottom}*/
	#reviewstable tr .spaced
								{padding-bottom: 2em}
	#reviewstable tr:first-child th
								{font-size: 1.50em; padding-top: 2em; padding-bottom: 0.75em}

	/*Copy (and modify) availablenow code from pet appointment.*/
	#availablenow:not(.hidden)
								{/*position: relative;*/ font-weight: bold; text-align: center; color: white; display: inline-block;
								 height: 20px; margin-left: 80px; margin-bottom: -8px; width: 100px; margin-top: -9px; /*line-height: 18px;*/
								 background-image: linear-gradient(lightblue, darkblue)}

	/* Diamond shaped badge.
	#chooseVetnow .formvets .availablenow::before
								{border-top: 15px solid darkblue; border-left: 45px solid transparent; border-right: 45px solid transparent; content: "";
								height: 0; left: 0; position: absolute; bottom:-15px; width: 0}
	*/
	#availablenow:not(.hidden) p, #availablenow:not(.hidden)
								{text-align: center; margin: 2px; padding-top: 1px; /*position: relative*/}

	#availablenow.hidden
								{display:none}
</style>

<span id="availablenow" class="hidden">
	<p>Available Now</p>
</span>
<table width="700" id="telehealthtable" cellspacing="1" cellpadding="2" border="1">
	<tbody>
	<tr class="lightcell">
		<th colspan="2">Profile Picture</th>
		<th colspan="3">Resources</th>
		<th colspan="2">Browse & bid on Virtual jobs</th>
	</tr>
	<tr>
		<td style="text-align: left" colspan="2" rowspan="3">
			<form id="avatarform" action="?" method="post">
				<img class="doctoravatar" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" onload="this.onload=null; if(window.location.search.indexOf('?avatar') != -1) { this.src=window.location.search.substr(8); }" /><br />
				<input type="button" name="button" value="Edit Profile Picture" onclick="this.style.display = 'none'; document.getElementById('avatarfile').style.display = 'inline-block'; document.getElementById('avatarsubmit').style.display = 'inline-block';" />
				<input type="file" id="avatarfile" name="doctoravatar" style="width: 90px; display: none" onchange="this.style.width = 'auto'; document.getElementById('avatarform').action = '?avatar=' + this.files[0].name" accept="image/*" ><br />
				<input type="submit" id="avatarsubmit" name="sendavatar" style="display: none" value="Upload" />
			</form>
		</td>
		<td style="text-align: left" colspan="3">
			<ul>
				<li><a href="/doctor_public/">View your Telehealth Website</a></li>
				<li><a href="/doctors_pet_account/">Your Telehealth Account</a></li>
				<li>How it works</li>
				<li>AVMA Telehealth Guidelines</li>
				<li>Browse & Bid on Virtual Jobs</li>
			</ul>
		</td>
		<td rowspan="3">
			<div class="new-map-section">
				<iframe src="https://testm.vetrelief.com/?page=virtual" class="web-map" frameborder="0"></iframe>
				<span onclick="location.href='https://testm.vetrelief.com/?page=virtual'" class="map-link"></span>
			</div>
		</td>
	</tr>
	<tr class="lightcell">
		<th colspan="3">View Bids:</th>
	</tr>
	<tr>
		<td colspan="3">Pending | Confirmed | Past</td>
	</tr>
	<tr style="border: none">
			<td colspan="7" style="border: none"></td>
		</tr>
	<tr class="lightcell">
		<th colspan="7">To set your virtual availability, select your available dates, then enter your starting and ending times.</th>
	</tr>
	<tr>
		<td style="text-align: left" colspan="7">
			<form id="availableform" method="post">
				<table id="availabletable" width="700" cellspacing="1" cellpadding="2" border="1">
					<thead>
					<tr class="darkcell">
						<th id="initmonth" colspan="7" style="text-align: center"></td>
					</tr>
					<tr class="lightcell">
						<th>Sun</th><th>Mon</th><th>Tue</th><th>Wed</th><th>Thu</th><th>Fri</th><th>Sat</th>
					</tr>
					</thead>
					<tbody id="availablebody">
						
					</tbody>
				</table>
				<table width="700" cellspacing="1" cellpadding="2" border="0">
					<tbody>
					<tr class="lightcell">
						<td colspan="7"></td>
					</tr>
					<tr>
						<td colspan="4" style="text-align: left"><input type="submit" name="send" value="Save Schedule" /></td>
						<td colspan="3" style="text-align: right">
							Recurring:
							<input type="radio" id="rnone" name="recurring" value="" checked="checked" onchange="calrecur = 0; calendarrecurringcheck(); calendarcolor();" /><label>None</label>
							<input type="radio" id="rweekly" name="recurring" value="1" onchange="calrecur = 1; calendarrecurringcheck(); calendarcolor();" /><label>Weekly</label>
							<input type="radio" id="rbiweekly" name="recurring" value="2" onchange="calrecur = 2; calendarrecurringcheck(); calendarcolor();" /><label>Bi-Weekly</label>
						</td>
					</tr>
						</tbody>
				</table>
			</form>
		</td>
	</tr>
		<tr style="border: none">
			<td colspan="7" style="border: none"></td>
		</tr>
	<tr>
		<th class="lightcell" colspan="7">Profile Information</th>
	</tr>
	<tr>
		<td style="text-align: left" colspan="7">
			<form id="profileform" method="post">
				<table width="600" cellspacing="6" cellpadding="2" border="0">
					<tbody>
					<tr>
						<th class="lightcell">About Me: (Viewed by pet owners.)</th><th class="lightcell">Preferred payment methods:</th>
					</tr>
					<tr>
						<td><textarea name="about" rows="4" placeholder="Describe yourself, what animals you treat, what services you provide."></textarea></td><td><textarea name="payment" rows="4" placeholder="Venmo, Paypal, CashApp, Credit Card, Zelle."></textarea></td>
					</tr>
					<tr>
						<th class="lightcell">"Available Now" Rate:</th><th class="lightcell">Preferred contact methods.</th>
					</tr>
					<tr>
						<td style="vertical-align: top">
							<input type="text" name="rate" size="4" placeholder="$/call" /><br /><br />
							Your Available Now Rate will only be visible<br />during the hours you've designated you're available.
						</td>
						<td>
							<table>
							<tbody>
							<tr>
								<th class="lightcell">Audio Calls</th>
							</tr>
							<tr>
								<td><textarea name="audiocontact" rows="4" placeholder="Phone call, Skype, Facebook Messenger, Google Hangouts, Zoom."></textarea></td>
							</tr>
							<tr>
								<th class="lightcell">Video Calls</th>
							</tr>
							<tr>
								<td><textarea name="videocontact" rows="4" placeholder="Skype, Facebook Messenger, Google Hangouts, Zoom, Facetime."></textarea></td>
							</tr>
							</tbody>
							</table>
						</td>
					</tr>
					<tr>
						<td><input type="submit" name="send" value="Update Profile" /></td>
					</tr>
					</tbody>
				</table>
			</form>
		</td>
	</tr>
	</tbody>
</table>

<table id="reviewstable" cellspacing="1" cellpadding="2">
	<tbody>
	<tr>
		<th colspan="2" class="spaced">Your Reviews:</th>
	</tr>
	<tr class="lightcell">
		<th><img class="reviewavatar" src="vet5.webp" /></th>
		<th style="width: 100%">Sarah Wilson</th>
	</tr>
	<tr>
		<th colspan="2">üêæ Fluffers</th>
	</tr>
	<tr class="lightcell">
		<td colspan="2">New York, NY</td>
	</tr>
	<tr>
		<td colspan="2">June, 12th, 2020</td>
	</tr>
	<tr>
		<th colspan="2">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</th>
	</tr>
	<tr>
		<td colspan="2" class="spaced">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis gravida velit lorem, ac pellentesque dolor cursus sed. Cras semper, lectus ac ultrices elementum, enim nisl tincidunt turpis, vitae varius nisi ante ac felis. Etiam tristique libero sit amet mauris scelerisque egestas. Ut non felis a felis laoreet fringilla a nec dolor. In accumsan ligula felis, quis finibus urna rutrum vitae. Praesent cursus ipsum sit amet blandit finibus. Nunc commodo tortor quis velit bibendum, sit amet consequat purus eleifend. Etiam quis dui aliquam, egestas quam in, tincidunt mi. Phasellus tincidunt sapien ac venenatis dignissim. Maecenas id urna est.</td>
	</tr>

	<tr class="lightcell">
		<th><img class="reviewavatar" src="vet3.webp" /></th>
		<th style="width: 100%">James Tollston</th>
	</tr>
	<tr>
		<th colspan="2">üêæ Abe Lincoln</th>
	</tr>
	<tr class="lightcell">
		<td colspan="2">Lake Of The Woods, MN</td>
	</tr>
	<tr>
		<td colspan="2">June, 12th, 2020</td>
	</tr>
	<tr>
		<th colspan="2">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</th>
	</tr>
	<tr>
		<td colspan="2" class="spaced">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis gravida velit lorem, ac pellentesque dolor cursus sed. Cras semper, lectus ac ultrices elementum, enim nisl tincidunt turpis, vitae varius nisi ante ac felis. Etiam tristique libero sit amet mauris scelerisque egestas. Ut non felis a felis laoreet fringilla a nec dolor. In accumsan ligula felis, quis finibus urna rutrum vitae. Praesent cursus ipsum sit amet blandit finibus. Nunc commodo tortor quis velit bibendum, sit amet consequat purus eleifend. Etiam quis dui aliquam, egestas quam in, tincidunt mi. Phasellus tincidunt sapien ac venenatis dignissim. Maecenas id urna est.</td>
	</tr>

	<tr class="lightcell">
		<th><img class="reviewavatar" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" /></th>
		<th style="width: 100%">Dune Buggy</th>
	</tr>
	<tr>
		<th colspan="2">üêæ Shifty</th>
	</tr>
	<tr class="lightcell">
		<td colspan="2">Juneau, AK</td>
	</tr>
	<tr>
		<td colspan="2">June, 12th, 2020</td>
	</tr>
	<tr>
		<th colspan="2">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</th>
	</tr>
	<tr>
		<td colspan="2" class="spaced">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis gravida velit lorem, ac pellentesque dolor cursus sed. Cras semper, lectus ac ultrices elementum, enim nisl tincidunt turpis, vitae varius nisi ante ac felis. Etiam tristique libero sit amet mauris scelerisque egestas. Ut non felis a felis laoreet fringilla a nec dolor. In accumsan ligula felis, quis finibus urna rutrum vitae. Praesent cursus ipsum sit amet blandit finibus. Nunc commodo tortor quis velit bibendum, sit amet consequat purus eleifend. Etiam quis dui aliquam, egestas quam in, tincidunt mi. Phasellus tincidunt sapien ac venenatis dignissim. Maecenas id urna est.</td>
	</tr>
	</tbody>
</table>

<script type="text/javascript">
	//Borrowing date generating code from pet appointment.
	var dates = [];

	//Are we recurring our calendar entries? This will be changed by onchanges in the recurring radio buttons.
	var calrecur = 0;

	//Get javascript Date stuff so we know how many days in the month, etc.
	var jsdate = new Date();
	var month = jsdate.getMonth();
	var jsdate2 = new Date(jsdate.getFullYear(), month, 0); //Zero day gets last day of last month.
	var lastmonth = jsdate2.getMonth();
	var dayslastmonth = jsdate2.getDate();
	jsdate2 = new Date(jsdate.getFullYear(), month + 1, 0); //Incrementing month and zero day gets the last day of this month.
	var verbosemonth = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
	var verboseweekday = ['SUN', 'MON', 'TUE', 'WED', 'THU', 'FRI', 'SAT'];	//For selecting a date.
	var verboseweekday2 = ['Sun', 'Mon', 'Tues', 'Wed', 'Thurs', 'Fri', 'Sat'];	//For presenting the final selection.
	var daysthismonth = jsdate2.getDate();
	var numberdate = jsdate.getDate();
	var numberdaysleftthismonth = daysthismonth - numberdate;
	var weekday = jsdate.getDay();

	//Get how many days from now until the 6 month anniversary of today.
	var jsdate6 = new Date();
	jsdate6.setMonth(month + 6, numberdate);
	var sixmonths = Math.round((jsdate6 - jsdate) / (1000 * 60 * 60 * 24)) + 1;
				
	var chosenmonth = month;
	var availablemonths = [];
	for(i = 0; i < 7; i++)
	{
		availablemonths.push(month + i);
		if (availablemonths[i] > 11)
		{
			availablemonths[i] -= 12;
		}
	}
	//Wrong month will display unless availablemonths has the whole year's months starting from January.
	var firstavailablemonth = availablemonths[0];
	for(i = availablemonths[0] - 1; i >= 0; i--)
	{
		availablemonths.unshift(i);
	}

	//Get all the days from now until the 6 month anniversary of today.
	initMonth(sixmonths);
	function initMonth(days)
	{
		let dayssubtracted = 0;
		for (let i = 0; i < days; i++)
		{
			dates.push({month: month, date: numberdate + i - dayssubtracted, weekday: weekday + i,  index: i});

			//Correct the month if we've gone beyond this month.
			if(dates[i].date > daysthismonth)
			{
				dates[i].month += 1;
				jsdate.setDate(dates[i].date);
				month = jsdate.getMonth();
				jsdate2.setMonth(month + 1, 0);
				dates[i].date -= daysthismonth;
				dayssubtracted += daysthismonth;
				//console.log(jsdate.getMonth() + " " + jsdate.getDate());
				daysthismonth = jsdate2.getDate();
			}
			if(dates[i].month == 12)
			{
				dates[i].month = 0;
			}

			while(dates[i].weekday > 6)
			{
				dates[i].weekday -= 7;
			}
		}
	}

	//Populate the calendar.
	var calendar = document.getElementById("availablebody");
	var temprow = document.createElement("tr");
	var tempcell;
	var tempinput, tempoption, tempspan;
	var usablecalendarcells = []	//This will be an array of objects. {cell: [td element], filled: boolean, recurred: boolean}
	if(dates[0].date < 7)
	{
		document.getElementById("initmonth").appendChild(document.createTextNode(verbosemonth[lastmonth]));
	}
	else
	{
		document.getElementById("initmonth").appendChild(document.createTextNode(verbosemonth[dates[0].month]));
	}
	calendar.appendChild(temprow);
	//Populate the past dates.
	for(i = 0; i < dates[0].weekday; i++)
	{
		tempcell = document.createElement("td");
		if(dates[0].date - (dates[0].weekday - i) < 1)
		{
			tempcell.appendChild(document.createTextNode(dates[0].date - (dates[0].weekday - i) + dayslastmonth));
		}
		else
		{
			tempcell.appendChild(document.createTextNode(dates[0].date - (dates[0].weekday - i)));
		}
		tempcell.setAttribute("class", "lightcell");
		temprow.appendChild(tempcell);
	}
	//Populate to a month from today.
	for(i = 0; i < daysthismonth + ((dates[0].date == 1 || dates[0].date == 31) ? 0 : 1); i++)
	{
		if(dates[i].weekday == 0)
		{
			temprow = document.createElement("tr");
			calendar.appendChild(temprow);
		}
		if(dates[i].date == 1)
		{
			for(f = dates[i].weekday; f < 7; f++)
			{
				if(dates[i].weekday == 0)
				{
					break;
				}
				tempcell = document.createElement("td");
				tempcell.setAttribute("class", "lightcell");
				temprow.appendChild(tempcell);
			}
			temprow = document.createElement("tr");
			temprow.setAttribute("class", "darkcell");
			calendar.appendChild(temprow);
			tempcell = document.createElement("th");
			tempcell.setAttribute("colspan", "7");
			tempcell.setAttribute("style", "text-align: center");
			tempcell.appendChild(document.createTextNode(verbosemonth[dates[i].month]));
			temprow.appendChild(tempcell);
			temprow = document.createElement("tr");
			calendar.appendChild(temprow);
			for(f = 0; f < dates[i].weekday; f++)
			{
				tempcell = document.createElement("td");
				tempcell.setAttribute("class", "lightcell");
				temprow.appendChild(tempcell);
			}
		}
		tempcell = document.createElement("td");
		tempcell.appendChild(document.createTextNode(dates[i].date));
		tempcell.appendChild(document.createElement("br"));

		tempinput = document.createElement("input");
		tempinput.type = "checkbox";
		tempinput.name = verbosemonth[dates[i].month] + "[" + dates[i].date +"][active]";
		tempinput.setAttribute("class", "activedatecell");
		tempinput.onclick = function()
		{
			calendartimecheck(this);
		}
		tempcell.appendChild(tempinput);
		tempcell.appendChild(tempinput);

		tempinput = document.createElement("input");
		tempinput.type = "number";
		tempinput.name = verbosemonth[dates[i].month] + "[" + dates[i].date +"][from][hour]";
		tempinput.setAttribute("class", "calendartimefield");
		tempinput.setAttribute("max", "12");
		tempinput.oninput = function()
		{
			calendartimecheck(this);
		}
		tempcell.appendChild(tempinput);

		tempspan = document.createElement("span");
		tempspan.appendChild(document.createTextNode(":"));
		tempcell.appendChild(tempspan);

		tempinput = document.createElement("input");
		tempinput.type = "number";
		tempinput.name = verbosemonth[dates[i].month] + "[" + dates[i].date +"][from][minute]";
		tempinput.setAttribute("class", "calendartimefield");
		tempinput.setAttribute("max", "59");
		tempinput.oninput = function()
		{
			calendartimecheck(this);
		}
		tempcell.appendChild(tempinput);

		tempinput = document.createElement("select");
		tempinput.name = verbosemonth[dates[i].month] + "[" + dates[i].date +"][from][ampm]";

		tempoption = document.createElement("option");
		tempoption.setAttribute("value", "");
		tempinput.appendChild(tempoption);

		tempoption = document.createElement("option");
		tempoption.setAttribute("value", "am");
		tempoption.appendChild(document.createTextNode("am"));
		tempinput.appendChild(tempoption);

		tempoption = document.createElement("option");
		tempoption.setAttribute("value", "pm");
		tempoption.appendChild(document.createTextNode("pm"));
		tempinput.appendChild(tempoption);

		tempinput.setAttribute("class", "calendartimefield");
		tempinput.onchange = function()
		{
			calendartimecheck(this);
		}
		
		tempcell.appendChild(tempinput);

		tempcell.appendChild(document.createElement("br"));
	
		tempinput = document.createElement("input");
		tempinput.type = "number";
		tempinput.name = verbosemonth[dates[i].month] + "[" + dates[i].date +"][to][hour]";
		tempinput.setAttribute("class", "calendartimefield");
		tempinput.setAttribute("max", "12");
		tempinput.oninput = function()
		{
			calendartimecheck(this);
		}
		tempcell.appendChild(tempinput);

		tempspan = document.createElement("span");
		tempspan.appendChild(document.createTextNode(":"));
		tempcell.appendChild(tempspan);

		tempinput = document.createElement("input");
		tempinput.type = "number";
		tempinput.name = verbosemonth[dates[i].month] + "[" + dates[i].date +"][to][minute]";
		tempinput.setAttribute("class", "calendartimefield");
		tempinput.setAttribute("max", "59");
		tempinput.oninput = function()
		{
			calendartimecheck(this);
		}
		tempcell.appendChild(tempinput);

		tempinput = document.createElement("select");
		tempinput.name = verbosemonth[dates[i].month] + "[" + dates[i].date +"][to][ampm]";

		tempoption = document.createElement("option");
		tempoption.setAttribute("value", "");
		tempinput.appendChild(tempoption);

		tempoption = document.createElement("option");
		tempoption.setAttribute("value", "am");
		tempoption.appendChild(document.createTextNode("am"));
		tempinput.appendChild(tempoption);

		tempoption = document.createElement("option");
		tempoption.setAttribute("value", "pm");
		tempoption.appendChild(document.createTextNode("pm"));
		tempinput.appendChild(tempoption);

		tempinput.setAttribute("class", "calendartimefield");
		tempinput.onchange = function()
		{
			calendartimecheck(this);
		}

		tempcell.appendChild(tempinput);

		//Add the new date cell to our array of calendar cells.
		temprow.appendChild(tempcell);
		usablecalendarcells.push({cell: tempcell, filled: false, recurred: false});
	}

	//For testing purposes: Set a shift for today that makes us currently available.
	var temptodaydate = new Date();
	usablecalendarcells[0].cell.getElementsByClassName("activedatecell")[0].checked = true;
	usablecalendarcells[0].cell.getElementsByClassName("calendartimefield")[0].value = temptodaydate.getHours() - 2;
	usablecalendarcells[0].cell.getElementsByClassName("calendartimefield")[2].value =
		((usablecalendarcells[0].cell.getElementsByClassName("calendartimefield")[0].value > 11) ? "pm" : "am");
	usablecalendarcells[0].cell.getElementsByClassName("calendartimefield")[0].value -=
		((usablecalendarcells[0].cell.getElementsByClassName("calendartimefield")[0].value > 12) ? 12 : 0);
	usablecalendarcells[0].cell.getElementsByClassName("calendartimefield")[3].value = temptodaydate.getHours() + 2;
	usablecalendarcells[0].cell.getElementsByClassName("calendartimefield")[5].value =
		((usablecalendarcells[0].cell.getElementsByClassName("calendartimefield")[3].value > 11) ? "pm" : "am");
	usablecalendarcells[0].cell.getElementsByClassName("calendartimefield")[3].value -=
		((usablecalendarcells[0].cell.getElementsByClassName("calendartimefield")[3].value > 12) ? 12 : 0);
	usablecalendarcells[0].cell.getElementsByClassName("calendartimefield")[1].value = "12";
	usablecalendarcells[0].cell.getElementsByClassName("calendartimefield")[4].value = "34";
	

	//Check to see if the doctor is currently scheduled. If yes, put a little badge on.
	var todaycell = usablecalendarcells[0].cell;
	if(todaycell.getElementsByClassName("activedatecell")[0].checked)
	{
		var todaydate = new Date();
		var todaytimefields = todaycell.getElementsByClassName("calendartimefield");
		var scheduledtime =
		{
			start: {hour: parseInt(todaytimefields[0].value) + ((todaytimefields[2].value == "pm") ? 12 : 0), minute: parseInt(todaytimefields[1].value)},
			end: {hour: parseInt(todaytimefields[3].value) + ((todaytimefields[5].value == "pm") ? 12 : 0) , minute: parseInt(todaytimefields[4].value)},
			current: {hour: todaydate.getHours(), minute: todaydate.getMinutes()}
		}

		if(scheduledtime.start.hour + (scheduledtime.start.minute / 100) <= scheduledtime.current.hour + (scheduledtime.current.minute / 100) &&
		scheduledtime.end.hour + (scheduledtime.end.minute / 100) >= scheduledtime.current.hour + (scheduledtime.current.minute / 100))
		{
			document.getElementById("availablenow").setAttribute("class", "");
		}

		calendartimecheck(todaytimefields[0]);
	}

	//When hour/minute/ampm fields are modified, check to see if both start and end time is fully filled out.
	//We will decide which inputs trigger this, by which fields gain this as their oninput or onchange function.
	//We grab the parent cell and then check all (non-checkbox) inputs in that cell to determine if we return true.
	//(We will pass "this" as the parameter in the event so we can get that input's parent.)
	function calendartimecheck(trinput)
	{
		var parent = trinput.parentElement;
		var inputs = parent.getElementsByClassName("calendartimefield");
		var allfilled = true;
		var changed = false;

		for(let i = 0; i < inputs.length; i++)
		{
			if(inputs[i].value == "" || parent.getElementsByClassName("activedatecell")[0].checked == false)
			{
				allfilled = false;
				break;
			}
		}

		for(let c = 0; c < usablecalendarcells.length; c++)
		{
			if(parent === usablecalendarcells[c].cell)
			{
				if(usablecalendarcells[c].filled != allfilled)
				{
					changed = true;
				}

				usablecalendarcells[c].filled = allfilled;
				if(usablecalendarcells[c].cell.getElementsByClassName("activedatecell")[0].checked)
				{
					usablecalendarcells[c].recurred = false;
				}
				break;
			}
		}

		if(changed)
		{
			calendarrecurringcheck(allfilled);
			calendarcolor();
		}
	}

	function calendarrecurringcheck(parentfilled)
	{
		if(!calrecur || parentfilled === false || calrecur == 2)
		{
			for(let c = 0; c < usablecalendarcells.length; c++)
			{
				usablecalendarcells[c].recurred = false;
			}

			if(!calrecur)
			{
				return;
			}
		}

		rincrement = 7 * calrecur;	//If weekly, we increment by 7 each loop. If biweekly, we increment by 14 each loop.
		var inputs, tinputs;
		for(let c = 0; c < usablecalendarcells.length; c++)
		{
			if(usablecalendarcells[c].filled)
			{
				//Grab current manually filled cell's values.
				inputs = usablecalendarcells[c].cell.getElementsByClassName("calendartimefield");

				for(let r = (c + rincrement); r < usablecalendarcells.length; r += rincrement)
				{
					//Duplicate the original field values downward based on weekly/biweekly. These gain recurred = true.
					//If we find a filled one, duplicate that one's values downward instead.
					//If we find a checked one that isn't filled, just skip it, but keep going.
					if(usablecalendarcells[r].filled)
					{
						break;
					}
					else
					{
						tinputs = usablecalendarcells[r].cell.getElementsByClassName("calendartimefield");
						if(!usablecalendarcells[r].cell.getElementsByClassName("activedatecell")[0].checked)
						{
							usablecalendarcells[r].recurred = true;
						}
						for(let t = 0; t < tinputs.length; t++)
						{
							if(!usablecalendarcells[r].cell.getElementsByClassName("activedatecell")[0].checked)
							{
								tinputs[t].value = inputs[t].value;
							}
							else
							{
								usablecalendarcells[r].recurred = false;
								break;
							}
						}
					}
				}
			}
		}
	}

	function calendarcolor()
	{
		for(let c = 0; c < usablecalendarcells.length; c++)
		{
			if(usablecalendarcells[c].filled || usablecalendarcells[c].recurred)
			{
				usablecalendarcells[c].cell.setAttribute("class", "filled");
			}
			else
			{
				usablecalendarcells[c].cell.setAttribute("class", "");
			}
		}
	}
</script>

</div>					

  <div id="footer">
    <table class="GenLayout" id="TableF" width="100%" cellspacing="0" cellpadding="10" border="0">
      <tbody><tr>
        <td class="GenLayout" width="40%" valign="top"><p>¬© 1999-2022 VRS | <a href="https://vetrelief.com/fterms.phtml">Terms</a> | <a href="https://vetrelief.com/admin/privacy.phtml">Privacy</a>  | <a href="https://vetrelief.com/admin/contact.phtml"> Contact Us</a></p></td>
		<td class="GenLayout" width="20%" valign="middle"><div align="center">v3.2.23r14</div></td>
        <td class="GenLayout" width="40%" valign="middle"><div align="right">
          <p>Hosting &amp; Programming : <a href="http://www.niftywerks.com/" target="_blank">Niftywerks, Inc.</a> &nbsp; &nbsp; &nbsp;</p>
        </div></td>
      </tr>
    </tbody></table>
    <!-- end #footer -->
  </div>
			<!-- end #container --></div>
<script type="text/javascript">
var MenuBar1 = new Spry.Widget.MenuBar("MenuBar1", {imgDown:"https://vetrelief.com/tmpl/SpryAssets/SpryMenuBarDownHover.gif", imgRight:"https://vetrelief.com/tmpl/SpryAssets/SpryMenuBarRightHover.gif"});
        </script>


<script src="bona%20fides%20saved_files/jquery.min.js"></script>
<script type="text/javascript" src="bona%20fides%20saved_files/jquery-migrate-1.2.1.min.js"></script>
<script type="text/javascript" src="bona%20fides%20saved_files/slick.min.js"></script>
<script>
$(document).ready(function() {
	if ($('.ad-carousel').length > 0) {
		$('.ad-carousel').slick({
			slidesToShow: 1,
			slidesToScroll: 1,
			autoplay: true,
			autoplaySpeed: 2000
		});
	}
	$('select[id^="adid-"').on('change', function() {
		var edit_url = '?page=featuredads&sub=edit&adid=';
		var adid = $(this).attr('id').split('-');
	    window.location = '/admin/' + edit_url + adid[1];
	});
});
</script>
</body></html>
